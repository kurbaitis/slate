
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="https:///www.signalzen.com">
        <img src="images/logo.png" class="logo" alt="Logo" />
      </a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#js-api" class="toc-h1 toc-link" data-title="js-api">JS API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#language" class="toc-h2 toc-link" data-title="language">Language</a>
                  </li>
                  <li>
                    <a href="#metadata-about-a-visitor" class="toc-h2 toc-link" data-title="metadata-about-a-visitor">Metadata about a visitor</a>
                  </li>
                  <li>
                    <a href="#widget-colors" class="toc-h2 toc-link" data-title="widget-colors">Widget colors</a>
                  </li>
                  <li>
                    <a href="#invisibility" class="toc-h2 toc-link" data-title="invisibility">Invisibility</a>
                  </li>
                  <li>
                    <a href="#hiding-on-mobile" class="toc-h2 toc-link" data-title="hiding-on-mobile">Hiding on mobile</a>
                  </li>
                  <li>
                    <a href="#positioning" class="toc-h2 toc-link" data-title="positioning">Positioning</a>
                  </li>
                  <li>
                    <a href="#css-for-trigger-button" class="toc-h2 toc-link" data-title="css-for-trigger-button">CSS for trigger button</a>
                  </li>
                  <li>
                    <a href="#expand-and-suspend" class="toc-h2 toc-link" data-title="expand-and-suspend">Expand and Suspend</a>
                  </li>
                  <li>
                    <a href="#events" class="toc-h2 toc-link" data-title="events">Events</a>
                  </li>
                  <li>
                    <a href="#troubleshooting" class="toc-h2 toc-link" data-title="troubleshooting">Troubleshooting</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="authentication">Authentication</a>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-users" class="toc-h2 toc-link" data-title="get-users">Get Users</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-user" class="toc-h2 toc-link" data-title="get-a-specific-user">Get a Specific User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#messages" class="toc-h1 toc-link" data-title="messages">Messages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-messages" class="toc-h2 toc-link" data-title="get-messages">Get Messages</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-message" class="toc-h2 toc-link" data-title="get-a-specific-message">Get a Specific Message</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://portal.signalzen.com/sign-up' target='_blank'>Sign Up for your API Secret Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the SignalZen API! You can use our Frontend (JavaScript) API to do advanced integration on your website or use backend API to access SignalZen API endpoints, which can get read-only information about your widget users and messages. This page includes a version number 1 Frontend (JavaScript) API and a version number 1 of the Backend API, later we will add more endpoints to make your API experience wider.</p>

<p>You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='js-api'>JS API</h1><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>As stated in the Integration page of your website inside the portal, you need to initialize our widget by a simple command which looks like on the right side of this page.</p>

<p>However, there are more advanced options to initialize and work with the widget. We separated the concerns of working with the widget into a few sections (see below).</p>
<h2 id='language'>Language</h2><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">language</span><span class="p">:</span> <span class="s1">'danish'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>Usually by creating translations of the widget, we determine the language that the visitors see by their browser settings.
There is an alternative way for this purpose, you can set the language by the integration code which takes precedence over the browser language. See the code example on the right how to do this.</p>
<h2 id='metadata-about-a-visitor'>Metadata about a visitor</h2><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">userData</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">reference</span><span class="p">:</span> <span class="s2">"your-visitor-user-id"</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">'your-visitor@email.com'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Your visitor name'</span><span class="p">,</span>
    <span class="s1">'some custom attribute'</span><span class="p">:</span> <span class="s1">'your visitor custom attribute'</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>Some websites have login area, where you have certain context which you want to be visible in a chat page in order to recognise the chat owner in more comfortable way. It&#39;s possible to set that data by JS configuration and send each time the chat owner sends a message. See the code example on the right how to do this.</p>
<h2 id='widget-colors'>Widget colors</h2><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">colors</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">primary</span><span class="p">:</span> <span class="s1">'#046ee5'</span><span class="p">,</span>
    <span class="na">secondary</span><span class="p">:</span> <span class="s1">'#f5f7f8'</span><span class="p">,</span>
    <span class="na">footer</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">error</span><span class="p">:</span> <span class="s1">'#cccccc'</span><span class="p">,</span>
    <span class="na">popup</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">popupClose</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">popupCloseSymbol</span><span class="p">:</span> <span class="s1">'#9c9c9c'</span><span class="p">,</span>
    <span class="na">popupFormInputBorder</span><span class="p">:</span> <span class="s1">'#9c9c9c'</span><span class="p">,</span>
    <span class="na">badge</span><span class="p">:</span> <span class="s1">'#c30606'</span><span class="p">,</span>
    <span class="na">footerEmojisPopup</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">footerOptions</span><span class="p">:</span> <span class="s1">'#b2b3b4'</span><span class="p">,</span>
    <span class="na">operatorMessages</span><span class="p">:</span> <span class="s1">'#ebeff0'</span><span class="p">,</span>
    <span class="na">formInput</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">formInputBorder</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">formButton</span><span class="p">:</span> <span class="s1">'#0fc306'</span><span class="p">,</span>
    <span class="na">formPlaceholder</span><span class="p">:</span> <span class="s1">'#949595'</span><span class="p">,</span>
    <span class="na">textPrimary</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">textError</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">textTime</span><span class="p">:</span> <span class="s1">'#b5b7b8'</span><span class="p">,</span>
    <span class="na">textTimeSeparator</span><span class="p">:</span> <span class="s1">'#8e9192'</span><span class="p">,</span>
    <span class="na">textUserMessage</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
    <span class="na">textFormInput</span><span class="p">:</span> <span class="s1">'#000000'</span><span class="p">,</span>
    <span class="na">textFormTitle</span><span class="p">:</span> <span class="s1">'#8e9192'</span><span class="p">,</span>
    <span class="na">textFormButton</span><span class="p">:</span> <span class="s1">'#ffffff'</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>You might not like the default color palette of the widget, so you can configure it yourself by a big variety of settings which are self explanatory and you can experiment with the colors of your choice. See the code example on the right how to do this.</p>
<h2 id='invisibility'>Invisibility</h2><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">invisible</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>Depending on your needs, you can start the widget in invisibility mode, which means that all the widget will be hidden until the point you decide differently. See the code example on the right how to start the widget invisible.</p>

<p>In order to make the widget visible, just call <code>SignalZen.show()</code> or <code>SignalZen.hide()</code> if you want to hide it again.</p>
<h2 id='hiding-on-mobile'>Hiding on mobile</h2><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">hideOnMobile</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>You may want to disable your chat widget on mobile devices in order not to make your webpage too stuffy.
Achieving that is simple as a flag to pass into the widget&#39;s initialization options.</p>
<h2 id='positioning'>Positioning</h2><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">layout</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">horizontalOffset</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="c1">// Allows to tune the position your chat box to right or left in pixels</span>
    <span class="na">verticalOffset</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="c1">// Allows to tune the position your chat box to top or bottom in pixels</span>
    <span class="na">horizontalPosition</span><span class="p">:</span> <span class="s1">'left'</span><span class="p">,</span> <span class="c1">// Possible values: 'left', 'right'</span>
    <span class="na">verticalPosition</span><span class="p">:</span> <span class="s1">'top'</span><span class="p">,</span> <span class="c1">// Possible values: 'top', 'bottom'</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>Depending on your needs, you can change position of the chat widget trigger button and chat box.</p>

<p>Just add the <code>layout</code> options that should be sufficient to position SignalZen widget at the right part of your website.</p>
<h2 id='css-for-trigger-button'>CSS for trigger button</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;style&gt;</span>
<span class="o">//</span> <span class="nt">Changing</span> <span class="nt">the</span> <span class="nt">size</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">button</span><span class="o">:</span>
<span class="nf">#signalzen_widget__root</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">50px</span> <span class="cp">!important</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">50px</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="kd">var</span> <span class="nx">_sz</span><span class="o">=</span><span class="nx">_sz</span><span class="o">||</span><span class="p">{};</span><span class="nx">_sz</span><span class="p">.</span><span class="nx">appId</span><span class="o">=</span><span class="s2">"YOUR_APP_ID"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.signalzen.com/signalzen.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"async"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">SignalZen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">SignalZen</span><span class="p">(</span><span class="nx">_sz</span><span class="p">).</span><span class="nx">load</span><span class="p">())},</span><span class="mi">10</span><span class="p">)}();</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<p>Sometimes you may want to change the widget trigger button CSS. You can do that by using <code>#signalzen_widget__root a</code> CSS selector.</p>

<p>Please don&#39;t forget to use <code>!important</code> declaration for each of your new style settings.</p>
<h2 id='expand-and-suspend'>Expand and Suspend</h2>
<p>The command <code>SignalZen.expand()</code> will open the widget chat window instead of showing just the chat circle with the chat icon.
The command <code>SignalZen.suspend()</code> will minimise the chat window to display only chat circle with the chat icon.</p>
<h2 id='events'>Events</h2>
<p>We support multiple events that come with metadata about each of them. This could be used for an advanced integration if you want to know in your JavaScript implementation when the chat is opened, a message is received or sent. Let&#39;s start with the events list and wrap up with a single example how to catch an event.</p>
<h3 id='signalzen-collapse'>signalzen.collapse</h3>
<p>This event is called when the chat is expanded or suspended and by capturing it, you can get an object with key <code>status</code> which will return the action nature. Currently, the status value can be <code>opened</code> or <code>closed</code>.</p>
<h3 id='signalzen-messagereceived'>signalzen.messageReceived</h3>
<p>This event is called when a visitor receives a chat message not depending on the message nature, it means it can be even an auto invitation message. The event metadata contains message information which you can check yourself while dealing with the implementation.</p>
<h3 id='signalzen-messagesent'>signalzen.messageSent</h3>
<p>This event is called when a visitor sends a chat message. The event metadata contains message information which you can check yourself while dealing with the implementation.</p>
<h3 id='signalzen-chatstarted'>signalzen.chatStarted</h3>
<p>This event is called when a visitor is created on our system, just after the first message. The event metadata contains user information which you can check yourself while dealing with the implementation.</p>
<h3 id='real-world-example'>Real world example</h3><pre class="highlight javascript tab-javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'signalzen.collapse'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="s1">'opened'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'The chat is opened!'</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'The chat is closed!'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre>
<p>Let&#39;s say you have a webpage where you need to react somehow when the widget collapse event happens. In this case, you need to put an event listener in your code and wait for the event to happen. Once the event happens, you can execute appropriate your own JS code. See the example on the right of this page. Be aware, that the metadata is contained in the listener function argument, under the <code>.detail</code> scope.</p>
<h2 id='troubleshooting'>Troubleshooting</h2>
<p>Please don&#39;t hesitate to contact us directly, but before doing that, take a look to these mostly common questions.</p>
<h3 id='1-the-widget-icon-stucks-at-the-loading-state-forever'>1. The widget icon stucks at the loading state forever.</h3>
<p>Double check if your integration code is placed correctly according to our guidance in the Integration Wizard page.
It might be that our integration implementation is conflicting with your other JavaScript libraries used in your website.
The best known case is Pace library which is incompatible with our service, so if you have it or other libraries dependent on it installed, please add this (right side of the screen) before SignalZen integration snippet in your webpage:</p>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">paceOptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">ajax</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">trackWebSockets</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">ignoreURLs</span><span class="p">:</span> <span class="p">[</span><span class="sr">/signalzen/</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><h3 id='2-i-enabled-quot-ask-visitors-for-email-and-name-before-displaying-live-chat-quot-but-can-39-t-see-the-form-in-the-widget'>2. I enabled &quot;Ask visitors for email and name before displaying live chat&quot; but can&#39;t see the form in the widget.</h3>
<p>Sometimes our clients put the code from &quot;Additional customisation&quot; section of this guide into webpages and use &quot;name&quot; and &quot;email&quot; variables as in the code snippet.
This means that you preset the name and email instead allowing for your visitors to fill in by themselves.
To avoid that, please don&#39;t use &quot;name&quot; and &quot;email&quot; variable names in the &quot;Additional customisation&quot; code section.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'httparty'</span>

<span class="n">api_secret</span> <span class="o">=</span> <span class="s1">'YOUR_API_SECRET'</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'https://api.signalzen.com/external/users'</span><span class="p">,</span> <span class="ss">headers: </span><span class="p">{</span> <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">api_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/vnd.signalzen.v1+json'</span> <span class="p">})</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct headers with each request</span>
curl <span class="s2">"https://api.signalzen.com/external/users"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer YOUR_API_SECRET"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/vnd.signalzen.v1+json"</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>YOUR_API_SECRET</code> with your API secret key.</p>
</blockquote>

<p>SignalZen uses API Secret Keys to allow access to the Backend API. You can register a new API Secret Key for your website at our <a href="https://portal.signalzen.com/sign-up">sign up page</a>.</p>

<p>SignalZen expects for the API Secret Key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: Bearer YOUR_API_SECRET</code></p>

<p>We also expect for the Accept header to be included in all API requests to the server:</p>

<p><code>Accept: application/vnd.signalzen.v1+json</code></p>

<p>Both headers MUST be sent together with each request, otherwise you can not access the resources.</p>

<aside class="notice">
You must replace <code>YOUR_API_SECRET</code> with your API secret key that belongs to your website. You can find the API secret key in the Integrations page of your website while logged in as admin of your website at our <a href="https://portal.signalzen.com" target="_blank">portal</a>.
</aside>
<h1 id='users'>Users</h1><h2 id='get-users'>Get Users</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'httparty'</span>

<span class="n">api_secret</span> <span class="o">=</span> <span class="s1">'YOUR_API_SECRET'</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'https://api.signalzen.com/external/users'</span><span class="p">,</span> <span class="ss">headers: </span><span class="p">{</span> <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">api_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/vnd.signalzen.v1+json'</span> <span class="p">})</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.signalzen.com/external/users"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer YOUR_API_SECRET"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/vnd.signalzen.v1+json"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"limit"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offset"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"users"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.smith@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2017-11-25T20:27:42.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2017-11-25T20:27:42.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"online_at"</span><span class="p">:</span><span class="s2">"2017-11-25T20:27:42.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_url"</span><span class="p">:</span><span class="s2">"https://google.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_attributes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"company"</span><span class="p">,</span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"John limited"</span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves users.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.signalzen.com/external/users</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>offset</td>
<td>0</td>
<td>Use it to scroll through all users list</td>
</tr>
<tr>
<td>limit</td>
<td>50</td>
<td>Greater than 0 and lower than 100</td>
</tr>
</tbody></table>

<aside class="success">
Remember — "user_attributes" in the response stands for the custom properties set by the widget JavaScript code. To get more information please visit Integration page of your website in the <a href="https://portal.signalzen.com" target="_blank">portal</a>.
</aside>
<h2 id='get-a-specific-user'>Get a Specific User</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'httparty'</span>

<span class="n">api_secret</span> <span class="o">=</span> <span class="s1">'YOUR_API_SECRET'</span>
<span class="n">user_id</span> <span class="o">=</span> <span class="mi">123</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"https://api.signalzen.com/external/users/</span><span class="si">#{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="ss">headers: </span><span class="p">{</span> <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">api_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/vnd.signalzen.v1+json'</span> <span class="p">})</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.signalzen.com/external/users/123"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer YOUR_API_SECRET"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/vnd.signalzen.v1+json"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.smith@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2017-11-25T20:27:42.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2017-11-25T20:27:42.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"online_at"</span><span class="p">:</span><span class="s2">"2017-11-25T20:27:42.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_url"</span><span class="p">:</span><span class="s2">"https://google.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_attributes"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"company"</span><span class="p">,</span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"John limited"</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific user.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.signalzen.com/external/users/&lt;ID&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to retrieve</td>
</tr>
</tbody></table>
<h1 id='messages'>Messages</h1><h2 id='get-messages'>Get Messages</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'httparty'</span>

<span class="n">api_secret</span> <span class="o">=</span> <span class="s1">'YOUR_API_SECRET'</span>
<span class="n">user_id</span> <span class="o">=</span> <span class="mi">123</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"https://api.signalzen.com/external/users/</span><span class="si">#{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">/messages"</span><span class="p">,</span> <span class="ss">headers: </span><span class="p">{</span> <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">api_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/vnd.signalzen.v1+json'</span> <span class="p">})</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.signalzen.com/external/users/123/messages"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer YOUR_API_SECRET"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/vnd.signalzen.v1+json"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test chat message"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"read_by_user"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-09T17:18:50.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"file_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"auto_invitation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"read_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"David Smith"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visitor@gmail.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test response from operator"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"read_by_user"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-09T18:18:38.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"file_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"auto_invitation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"operator"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"read_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"forename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"surname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"operator@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"picture_thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves messages of a user chat.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.signalzen.com/external/users/&lt;USER_ID&gt;/messages</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>-</td>
<td>User id which owns the chat</td>
</tr>
<tr>
<td>offset</td>
<td>0</td>
<td>Use it to scroll through all messages list</td>
</tr>
<tr>
<td>limit</td>
<td>50</td>
<td>Greater than 0 and lower than 100</td>
</tr>
</tbody></table>

<aside class="success">
Remember — when "file_url" attribute is present, it means that the message contains attachment. The "file_url" is valid for 20 seconds from the response return time.
</aside>
<h2 id='get-a-specific-message'>Get a Specific Message</h2><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'httparty'</span>

<span class="n">api_secret</span> <span class="o">=</span> <span class="s1">'YOUR_API_SECRET'</span>
<span class="n">user_id</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">message_id</span> <span class="o">=</span> <span class="mi">1234</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"https://api.signalzen.com/external/users/</span><span class="si">#{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">/messages/</span><span class="si">#{</span><span class="n">message_id</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="ss">headers: </span><span class="p">{</span> <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Bearer </span><span class="si">#{</span><span class="n">api_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/vnd.signalzen.v1+json'</span> <span class="p">})</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.signalzen.com/external/users/123/messages/1234"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer YOUR_API_SECRET"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/vnd.signalzen.v1+json"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test chat message"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"read_by_user"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-09T17:18:50.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"file_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_invitation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"read_by_operator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"David Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visitor@gmail.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific message of a user chat.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://api.signalzen.com/external/users/&lt;USER_ID&gt;/messages/&lt;ID&gt;</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
<tr>
<td>ID</td>
<td>The ID of the message to retrieve</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The SignalZen API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API secret key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The request is forbidden.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resurce with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The resource requested has been removed from our servers.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re making too many requests! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
